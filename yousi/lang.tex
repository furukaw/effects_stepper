\section{対象言語とインタプリタ}
\label{lang}

本稿では、以下の定義で表される言語についてステッパを実装する方法を示す。
\begin{quote}
\begin{verbatim}
(* 値 *)
type v =
    Var of string      (* x *)
  | Num of int         (* n *)
  | Fun of string * e  (* fun x -> e *)
  | Handler of h       (* ハンドラ *)
  | Cont of string * (cont_in -> cont_in)
(* ハンドラ *)
and h =
  {return : (string * e) option;
   ops : (string * string * string * e) list}
(* 式 *)
and e = Val of v          (* v *)
      | App of e * e      (* e e *)
      | Op of string * e  (* op e *)
      | With of e * e (* with e handle e *)
(* 継続 *)
and cont_in = v -> a
\end{verbatim}
\end{quote}
